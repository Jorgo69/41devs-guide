### Todos API - REST Client
### Variables
@baseUrl = http://localhost:3000/api

### ============================================================
### üìã QUERIES (Lectures - GET)
### ============================================================

### Lister tous les Todos
# @name getAllTodos
GET {{baseUrl}}/todos
Content-Type: application/json

###

### Lister les Todos termin√©s uniquement
GET {{baseUrl}}/todos?completed=true
Content-Type: application/json

###

### Lister les Todos non termin√©s uniquement
GET {{baseUrl}}/todos?completed=false
Content-Type: application/json

###

### R√©cup√©rer un Todo par ID
# @name getTodoById
GET {{baseUrl}}/todos/1
Content-Type: application/json

### ============================================================
### ‚úèÔ∏è COMMANDS (√âcritures - POST/PATCH/DELETE)
### ============================================================

### Cr√©er un nouveau Todo
# @name createTodo
POST {{baseUrl}}/todos
Content-Type: application/json

{
    "title": "Apprendre CQRS avec NestJS",
    "description": "Comprendre les Commands, Queries et leurs Handlers"
}

###

### Cr√©er un Todo sans description
POST {{baseUrl}}/todos
Content-Type: application/json

{
    "title": "Todo simple sans description"
}

###

### Mettre √† jour un Todo (marquer comme compl√©t√©)
# @name updateTodo
PATCH {{baseUrl}}/todos/1
Content-Type: application/json

{
    "completed": true
}

###

### Mettre √† jour le titre d'un Todo
PATCH {{baseUrl}}/todos/1
Content-Type: application/json

{
    "title": "Nouveau titre mis √† jour"
}

###

### Mettre √† jour plusieurs champs
PATCH {{baseUrl}}/todos/1
Content-Type: application/json

{
    "title": "Todo modifi√©",
    "description": "Description mise √† jour",
    "completed": false
}

###

### Supprimer un Todo
# @name deleteTodo
DELETE {{baseUrl}}/todos/1
Content-Type: application/json

### ============================================================
### üß™ TESTS DE VALIDATION (Erreurs attendues)
### ============================================================

### Cr√©er sans titre (devrait √©chouer - validation)
POST {{baseUrl}}/todos
Content-Type: application/json

{
    "description": "Pas de titre - erreur attendue"
}

###

### R√©cup√©rer un Todo inexistant (404)
GET {{baseUrl}}/todos/9999
Content-Type: application/json

###

### Supprimer un Todo inexistant (404)
DELETE {{baseUrl}}/todos/9999
Content-Type: application/json
