# 41DEVS Scripts - Guide d'utilisation

> Scripts de generation de projets NestJS CQRS
> Cree par **Ibrahim** pour l'equipe 41DEVS

---

## ğŸš€ Workflow 1 : Avec installation automatique

```bash
setup-nestjs-cqrs.sh mon-api
cd mon-api
npm run db:setup          # Creer la base PostgreSQL
npm run start:dev         # Lancer l'appli
```

---

## ğŸš€ Workflow 2 : Avec `--no-install` (plus rapide / offline)

```bash
setup-nestjs-cqrs.sh mon-api --no-install
cd mon-api
npm install --legacy-peer-deps   # Installer manuellement
npm run db:setup                  # Creer la base PostgreSQL
npm run start:dev                 # Lancer l'appli
```

---

## ğŸ“‹ Resume des etapes completes

| # | Commande | Description |
|---|----------|-------------|
| 1 | `setup-nestjs-cqrs.sh mon-api` | Creer le projet |
| 2 | `cd mon-api` | Aller dans le dossier |
| 3 | `npm install --legacy-peer-deps` | *(seulement si --no-install)* |
| 4 | `npm run db:setup` | Creer la BDD PostgreSQL (user root + base mon_api) |
| 5 | `npm run start:dev` | Lancer l'application |
| 6 | Ouvrir http://localhost:3000/api | Swagger UI |

---

## ğŸ”„ Commandes utiles apres

| Commande | Description |
|----------|-------------|
| `npm run db:reset` | Supprimer + recreer la BDD (comme `migrate:fresh`) |
| `npm run db:drop` | Supprimer la BDD |
| `generate-module.sh products` | Ajouter un nouveau module CRUD |

---

## ğŸ—„ï¸ Base de donnees

Le nom de la BDD est derive du nom du projet (`-` â†’ `_`):
- `mon-api` â†’ `mon_api`
- `test-41devs` â†’ `test_41devs`

Credentials par defaut (dev):
- **User:** `root`
- **Password:** `root`

---

## ğŸ“ Structure generee

```
mon-api/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ default.yml          # Configuration
â”‚   â”‚   â””â”€â”€ configuration.ts
â”‚   â”œâ”€â”€ auth/                     # Module Auth (register, login, me)
â”‚   â”œâ”€â”€ user/                     # Module User (CRUD)
â”‚   â”œâ”€â”€ health/                   # Module Health
â”‚   â”œâ”€â”€ main.ts
â”‚   â””â”€â”€ app.module.ts
â”œâ”€â”€ database/
â”‚   â”œâ”€â”€ setup-database.sql       # Creer la BDD
â”‚   â””â”€â”€ drop-database.sql        # Supprimer la BDD
â”œâ”€â”€ test/
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

---

## ğŸŒ URLs

| URL | Description |
|-----|-------------|
| http://localhost:3000 | API Root |
| http://localhost:3000/api | Swagger UI |
| http://localhost:3000/health | Health Check |